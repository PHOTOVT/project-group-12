{"version":3,"file":"commonHelpers.js","sources":["../src/js/faq.js","../src/js/footer.js"],"sourcesContent":["// Встановлено Accordion\nimport faqAccordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nconst accordionFaq = new faqAccordion('.accordion-container-faq', {\n    duration: 400,\n    showMultiple: true,\n});\n\nconst faqButtons = document.querySelectorAll('.faq-show-hidden-text-button');\n\nfaqButtons.forEach(button => {\n    button.addEventListener('click', () => {\n        const arrowIcon = button.querySelector('.faq-button-icon');\n        arrowIcon.classList.toggle('arrow-up');\n    })\n});","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nconst refs = {\n  inputElements: document.querySelectorAll('input'),\n  inputEmail: document.querySelector('.form-email'),\n  inputComment: document.querySelector('.form-comment'),\n  buttonElement: document.querySelector('.form-button'),\n  formElement: document.querySelector('.form-cooperation'),\n};\n\nconst maxLength = 25;\n\nconst overflowInput = (inputElement, maxLength) => {\n  if (inputElement.value.length > maxLength) {\n    inputElement.value = inputElement.value.slice(0, maxLength) + '...';\n  }\n};\n\nrefs.inputElements.forEach(inputElement => {\n  inputElement.addEventListener('input', () =>\n    overflowInput(inputElement, maxLength)\n  );\n});\n\nasync function postData(email, comment) {\n  const url = 'https://portfolio-js.b.goit.study/api/requests';\n  const request = { email, comment };\n  \n\n  try {\n    const response = await axios.post(url, request);\n    const instance = basicLightbox.create(`\n      <div class=\"modal\">\n      <div class=\"modal-close-icon-container\">\n  <svg class=\"modal-close-icon\" width=\"22\" height=\"22\">\n    <use href=\"../img/sprite.svg#icon-close\"></use>\n        </svg>\n      </div>\n        <h2 class=\"modal-title\">${response.data.title}</h2>\n        <p class=\"modal-text\">${response.data.message}</p>\n      </div>\n    `);\n    instance.show();\n    refs.formElement.reset();\n\n    const iconElement = instance.element().querySelector('.modal-close-icon');\n    iconElement.addEventListener('click', () => instance.close());\n\n    const handleEscape = event => {\n      if (event.key === 'Escape') {\n        instance.close();\n        refs.formElement.reset();\n        document.removeEventListener('keydown', handleEscape);\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n  } catch (error) {\n    iziToast.show({\n      message:\n        'An error occurred while posting request. Please, try again later.',\n      position: 'bottomCenter',\n      backgroundColor: '#ed3b44',\n      messageColor: '#fafafa',\n      theme: 'dark',\n      maxWidth: '250px',\n    });\n  }\n}\n\nrefs.formElement.addEventListener('submit', handleFormSubmit);\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const form = event.target;\n  const email = form.elements.email.value.trim();\n  const comment = form.elements.comment.value.trim();\n  postData(email, comment);\n}\n"],"names":["faqAccordion","faqButtons","button","refs","maxLength","overflowInput","inputElement","postData","email","comment","url","request","response","axios","instance","basicLightbox.create","handleEscape","event","iziToast","handleFormSubmit","form"],"mappings":"2wBAIqB,IAAIA,EAAa,2BAA4B,CAC9D,SAAU,IACV,aAAc,EAClB,CAAC,EAED,MAAMC,EAAa,SAAS,iBAAiB,8BAA8B,EAE3EA,EAAW,QAAQC,GAAU,CACzBA,EAAO,iBAAiB,QAAS,IAAM,CACjBA,EAAO,cAAc,kBAAkB,EAC/C,UAAU,OAAO,UAAU,CAC7C,CAAK,CACL,CAAC,ECVD,MAAMC,EAAO,CACX,cAAe,SAAS,iBAAiB,OAAO,EAChD,WAAY,SAAS,cAAc,aAAa,EAChD,aAAc,SAAS,cAAc,eAAe,EACpD,cAAe,SAAS,cAAc,cAAc,EACpD,YAAa,SAAS,cAAc,mBAAmB,CACzD,EAEMC,EAAY,GAEZC,EAAgB,CAACC,EAAcF,IAAc,CAC7CE,EAAa,MAAM,OAASF,IAC9BE,EAAa,MAAQA,EAAa,MAAM,MAAM,EAAGF,CAAS,EAAI,MAElE,EAEAD,EAAK,cAAc,QAAQG,GAAgB,CACzCA,EAAa,iBAAiB,QAAS,IACrCD,EAAcC,EAAcF,CAAS,CACzC,CACA,CAAC,EAED,eAAeG,EAASC,EAAOC,EAAS,CACtC,MAAMC,EAAM,iDACNC,EAAU,CAAE,MAAAH,EAAO,QAAAC,GAGzB,GAAI,CACF,MAAMG,EAAW,MAAMC,EAAM,KAAKH,EAAKC,CAAO,EACxCG,EAAWC,EAAAA,OAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAORH,EAAS,KAAK,KAAK;AAAA,gCACrBA,EAAS,KAAK,OAAO;AAAA;AAAA,KAEhD,EACDE,EAAS,KAAI,EACbX,EAAK,YAAY,QAEGW,EAAS,QAAS,EAAC,cAAc,mBAAmB,EAC5D,iBAAiB,QAAS,IAAMA,EAAS,MAAO,CAAA,EAE5D,MAAME,EAAeC,GAAS,CACxBA,EAAM,MAAQ,WAChBH,EAAS,MAAK,EACdX,EAAK,YAAY,QACjB,SAAS,oBAAoB,UAAWa,CAAY,EAE5D,EAEI,SAAS,iBAAiB,UAAWA,CAAY,CAClD,MAAe,CACdE,EAAS,KAAK,CACZ,QACE,oEACF,SAAU,eACV,gBAAiB,UACjB,aAAc,UACd,MAAO,OACP,SAAU,OAChB,CAAK,CACF,CACH,CAEAf,EAAK,YAAY,iBAAiB,SAAUgB,CAAgB,EAC5D,SAASA,EAAiBF,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMG,EAAOH,EAAM,OACbT,EAAQY,EAAK,SAAS,MAAM,MAAM,OAClCX,EAAUW,EAAK,SAAS,QAAQ,MAAM,OAC5Cb,EAASC,EAAOC,CAAO,CACzB"}